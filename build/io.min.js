class NodeBindings{constructor(e){Object.defineProperty(this,"node",{value:e,configurable:!0})}get(e){return this[e]=this[e]||new Binding(this.node,e),this[e]}dispose(){for(let e in this)this[e].dispose(),delete this[e];delete this.node}}class Binding{constructor(e,t){this.source=e,this.sourceProp=t,this.targets=[],this.targetsMap=new WeakMap,this.updateSource=this.updateSource.bind(this),this.updateTargets=this.updateTargets.bind(this),this.source.addEventListener(this.sourceProp+"-changed",this.updateTargets)}addTarget(e,t){if(-1===this.targets.indexOf(e)&&this.targets.push(e),this.targetsMap.has(e)){const i=this.targetsMap.get(e);-1===i.indexOf(t)&&(i.push(t),e.addEventListener(t+"-changed",this.updateSource))}else this.targetsMap.set(e,[t]),e.addEventListener(t+"-changed",this.updateSource)}removeTarget(e,t){if(this.targetsMap.has(e)){const i=this.targetsMap.get(e);if(t){const o=i.indexOf(t);-1!==o&&i.splice(o,1),e.removeEventListener(t+"-changed",this.updateSource)}else{for(let t=i.length;t--;)e.removeEventListener(i[t]+"-changed",this.updateSource);i.length=0}0===i.length&&this.targets.splice(this.targets.indexOf(e),1)}}updateSource(e){if(-1===this.targets.indexOf(e.target))return void console.warn("io error: updateSource() should never fire when target is removed from binding.\n        Please file an issue at https://github.com/arodic/io/issues.");const t=e.detail.value;this.source[this.sourceProp]!==t&&(this.source[this.sourceProp]=t)}updateTargets(e){if(e.target!=this.source)return void console.warn("io error: updateTargets() should always originate form source node.\n        Please file an issue at https://github.com/arodic/io/issues.");const t=e.detail.value;for(let e=this.targets.length;e--;){const i=this.targetsMap.get(this.targets[e]);for(let o=i.length;o--;){let n=this.targets[e][i[o]];if(n!==t){if("number"==typeof t&&"number"==typeof n&&isNaN(t)&&isNaN(n))continue;this.targets[e][i[o]]=t}}}}dispose(){this.source.removeEventListener(this.sourceProp+"-changed",this.updateTargets);for(let e in this.targets)this.removeTarget(this.targets[e]),delete this.targets[e]}}class NodeQueue extends Array{constructor(e){super(),Object.defineProperty(this,"node",{value:e,configurable:!0})}queue(e,t,i){const o=this.indexOf(e);-1===o?this.push(e,{property:e,value:t,oldValue:i}):this[o+1].value=t}dispatch(){const e=this.node;if(this.length){for(let t=0;t<this.length;t+=2){const i=this[t],o={detail:this[t+1]};e[i+"Changed"]&&e[i+"Changed"](o),e.dispatchEvent(i+"-changed",o.detail)}e.dispatchEvent("object-mutated",{object:e},!1,window),e.changed(),this.length=0}}dispose(){this.length=0,delete this.node}}class ProtoListeners{constructor(e){for(let t=e.length;t--;){const i=e[t].constructor.listeners;for(let e in i)this[e]=i[e]}}}class Listeners{constructor(e,t){Object.defineProperty(this,"node",{value:e}),Object.defineProperty(this,"propListeners",{value:{}}),Object.defineProperty(this,"activeListeners",{value:{}});for(let e in t)this[e]=t[e]}setPropListeners(e){for(let e in this.propListeners)delete this.propListeners[e];for(let t in e)t.startsWith("on-")&&(this.propListeners[t.slice(3,t.length)]=e[t])}connect(){const e=this.node,t=this.propListeners;for(let t in this){const i="function"==typeof this[t]?this[t]:e[this[t]];e.addEventListener(t,i)}for(let i in t){const o="function"==typeof t[i]?t[i]:e[t[i]];e.addEventListener(i,o)}}disconnect(){const e=this.node,t=this.propListeners;for(let t in this){const i="function"==typeof this[t]?this[t]:e[this[t]];e.removeEventListener(t,i)}for(let i in t){const o="function"==typeof t[i]?t[i]:e[t[i]];e.removeEventListener(i,o)}}dispose(){this.disconnect();const e=this.node,t=this.activeListeners;for(let i in t)for(let o=t[i].length;o--;)e.isElement&&HTMLElement.prototype.removeEventListener.call(e,i,t[i][o]),t[i].splice(o,1)}addEventListener(e,t){const i=this.node,o=this.activeListeners;o[e]=o[e]||[],-1===o[e].indexOf(t)&&(i.isElement&&HTMLElement.prototype.addEventListener.call(i,e,t),o[e].push(t))}removeEventListener(e,t){const i=this.node,o=this.activeListeners;if(void 0!==o[e]){const n=o[e].indexOf(t);-1!==n&&(i.isElement&&HTMLElement.prototype.removeEventListener.call(i,e,t),o[e].splice(n,1))}}dispatchEvent(e,t={},i=!0,o=this.node){if(o instanceof HTMLElement||o===window)HTMLElement.prototype.dispatchEvent.call(o,new CustomEvent(e,{type:e,detail:t,bubbles:i,composed:!0}));else{const i=this.activeListeners;if(void 0!==i[e]){const n=i[e].slice(0);for(let e=0;e<n.length;e++)n[e].call(o,{detail:t,target:o,path:[o]})}}}}class ProtoProperties{constructor(e){const t={};for(let i=e.length;i--;){const o=e[i].constructor.properties;for(let e in o)t[e]?t[e].assign(new Property(o[e])):t[e]=new Property(o[e])}for(let e in t)this[e]=new Property(t[e])}}class Properties{constructor(e,t){Object.defineProperty(this,"node",{value:e});for(let i in t)if(this[i]=t[i].clone(),"object"==typeof this[i].value){const t=this[i].value;t&&t.isNode&&t.connect(e),e.queue(i,t,void 0)}}get(e){return this[e].value}set(e,t){let i=this[e].binding,o=this[e].value,n=t instanceof Binding?t:null;n&&i&&n!==i&&i.removeTarget(this.node,e),n?(n.addTarget(this.node,e),this[e].binding=n,this[e].value=t.source[t.sourceProp],t=t.source[t.sourceProp]):this[e].value=t,t&&t.isNode&&t.connect(this.node),t!==o&&o&&o.isNode&&o.disconnect(this.node),this[e].reflect&&this.node.setAttribute(e,t)}connect(){for(let e in this)this[e].binding&&this[e].binding.addTarget(this.node,e)}disconnect(){for(let e in this)this[e].binding&&this[e].binding.removeTarget(this.node,e)}dispose(){for(let e in this)this[e].binding&&(this[e].binding.removeTarget(this.node,e),delete this[e].binding),delete this[e]}}class Property{constructor(e){null===e||void 0===e?e={value:e}:"function"==typeof e?e={type:e}:e instanceof Array?e={type:Array,value:[...e]}:e instanceof Binding?e={binding:e,value:e.value}:"object"!=typeof e&&(e={value:e,type:e.constructor}),this.assign(e)}assign(e){void 0!==e.value&&(this.value=e.value),void 0!==e.type&&(this.type=e.type),void 0!==e.reflect&&(this.reflect=e.reflect),void 0!==e.binding&&(this.binding=e.binding),this.enumerable=void 0===e.enumerable||e.enumerable}clone(){const e=new Property(this);return void 0===e.type&&void 0!==e.value&&null!==e.value&&(e.type=e.value.constructor),e.type===Array&&e.value&&(e.value=[...e.value]),void 0===e.value&&e.type&&(e.type===Boolean?e.value=!1:e.type===String?e.value="":e.type===Number?e.value=0:e.type===Array?e.value=[]:e.type===Object?e.value={}:e.type!==HTMLElement&&e.type!==Function&&(e.value=new e.type)),e}}const IoNodeMixin=e=>{const t=class extends e{static get properties(){return{}}get bindings(){}constructor(e={}){super(e),this.constructor.prototype.__registered||this.constructor.Register(),Object.defineProperty(this,"__nodeBindings",{value:new NodeBindings(this)}),Object.defineProperty(this,"__nodeQueue",{value:new NodeQueue(this)}),Object.defineProperty(this,"__properties",{value:new Properties(this,this.__protoProperties)}),Object.defineProperty(this,"__listeners",{value:new Listeners(this,this.__protoListeners)});for(let e=0;e<this.__functions.length;e++)this[this.__functions[e]]=this[this.__functions[e]].bind(this);this.__listeners.setPropListeners(e,this),this.compose&&this.applyCompose(this.compose),this.setProperties(e)}connect(e){this._instances=this._instances||[],-1===this._instances.indexOf(e)&&(this._instances.push(e),this.__connected||this.connectedCallback())}disconnect(e){-1!==this._instances.indexOf(e)&&this._instances.splice(this._instances.indexOf(e),1),0===this._instances.length&&this.__connected&&this.disconnectedCallback()}preventDefault(e){e.preventDefault()}changed(){}bind(e){return this.__nodeBindings.get(e)}set(e,t){if(this[e]!==t){const i=this[e];this[e]=t,this.dispatchEvent(e+"-set",{property:e,value:t,oldValue:i},!1)}}setProperties(e){for(let t in e){if(void 0===this.__properties[t])continue;const i=this.__properties[t].value;this.__properties.set(t,e[t]);const o=this.__properties[t].value;o!==i&&this.queue(t,o,i)}if(this.className=e.className||"",e.style)for(let t in e.style)this.style[t]=e.style[t],this.style.setProperty(t,e.style[t]);this.queueDispatch()}applyCompose(e){for(let t in e){const i=e[t];this[t].setProperties(i),this.addEventListener(t+"-changed",e=>{e.detail.oldValue&&e.detail.oldValue.dispose(),e.detail.value.setProperties(i)})}}onObjectMutation(e){for(let t=this.__objectProps.length;t--;){const i=this.__objectProps[t];if(this.__properties[i].value===e.detail.object)return this[i+"Mutated"]&&this[i+"Mutated"](e),void this.changed()}}connectedCallback(){this.__listeners.connect(),this.__properties.connect(),this.__connected=!0,this.__objectProps.length&&window.addEventListener("object-mutated",this.onObjectMutation),this.queueDispatch()}disconnectedCallback(){this.__listeners.disconnect(),this.__properties.disconnect(),this.__connected=!1,this.__objectProps.length&&window.removeEventListener("object-mutated",this.onObjectMutation)}dispose(){this.__nodeQueue.dispose(),this.__nodeBindings.dispose(),this.__listeners.dispose(),this.__properties.dispose()}addEventListener(e,t){this.__listeners.addEventListener(e,t)}removeEventListener(e,t){this.__listeners.removeEventListener(e,t)}dispatchEvent(e,t,i=!1,o){this.__listeners.dispatchEvent(e,t,i,o)}queue(e,t,i){this.__nodeQueue.queue(e,t,i)}queueDispatch(){this.__nodeQueue.dispatch()}};return t.Register=Register,t},Register=function(){Object.defineProperty(this.prototype,"__registered",{value:!0});const e=[];let t=this.prototype;for(;t&&t.constructor!==HTMLElement&&t.constructor!==Object;)e.push(t),t=t.__proto__;Object.defineProperty(this.prototype,"isNode",{value:t.constructor!==HTMLElement}),Object.defineProperty(this.prototype,"isElement",{value:t.constructor===HTMLElement}),Object.defineProperty(this.prototype,"__protochain",{value:e}),Object.defineProperty(this.prototype,"__protoProperties",{value:new ProtoProperties(this.prototype.__protochain)}),Object.defineProperty(this.prototype,"__protoListeners",{value:new ProtoListeners(this.prototype.__protochain)}),Object.defineProperty(this.prototype,"__properties",{value:this.prototype.__protoProperties});const i=[];for(let e=this.prototype.__protochain.length;e--;){const t=this.prototype.__protochain[e],o=Object.getOwnPropertyNames(t);for(let e=0;e<o.length;e++)"constructor"!==o[e]&&(Object.getOwnPropertyDescriptor(t,o[e]).get||"function"==typeof t[o[e]]&&"anonymous"!==t[o[e]].name&&-1===i.indexOf(o[e])&&i.push(o[e]))}Object.defineProperty(this.prototype,"__functions",{value:i}),Object.defineProperty(this.prototype,"__objectProps",{value:[]});const o=[Boolean,String,Number,HTMLElement,Function,void 0];for(let e in this.prototype.__protoProperties){let t=this.prototype.__protoProperties[e].type;-1==o.indexOf(t)&&this.prototype.__objectProps.push(e)}for(let e in this.prototype.__protoProperties){const t="_"!==e.charAt(0),i=!(!1===this.prototype.__protoProperties[e].enumerable);Object.defineProperty(this.prototype,e,{get:function(){return this.__properties[e].value},set:function(i){if(this.__properties[e].value===i)return;const o=this.__properties.get(e);this.__properties.set(e,i),i=this.__properties.get(e),t&&this.__connected&&(this.queue(e,i,o),this.queueDispatch())},enumerable:i&&t,configurable:!0})}};IoNodeMixin.Register=Register;class IoNode extends(IoNodeMixin(Object)){}class IoElement extends(IoNodeMixin(HTMLElement)){static get properties(){return{id:{type:String,enumerable:!1},tabindex:{type:String,reflect:!0,enumerable:!1},contenteditable:{type:Boolean,reflect:!0,enumerable:!1},title:{type:String,reflect:!0,enumerable:!1},role:{type:String,reflect:!0,enumerable:!1},$:{type:Object}}}connectedCallback(){super.connectedCallback();for(let e in this.__properties)this.__properties[e].reflect&&this.setAttribute(e,this.__properties[e].value);"function"==typeof this.resized&&(this.resized(),ro?ro.observe(this):window.addEventListener("resize",this.resized))}disconnectedCallback(){super.disconnectedCallback(),"function"==typeof this.resized&&(ro?ro.unobserve(this):window.removeEventListener("resize",this.resized))}dispose(){super.dispose(),delete this.parent,this.children.lenght=0}template(e,t){this.traverse(buildTree()(["root",e]).children,t||this)}traverse(e,t){const i=t.children;for(;i.length>e.length;){const e=i[i.length-1];let o=Array.from(e.querySelectorAll("*"));t.removeChild(e);for(let e=o.length;e--;)o[e].dispose&&o[e].dispose();e.dispose&&e.dispose()}if(i.length<e.length){const o=document.createDocumentFragment();for(let t=i.length;t<e.length;t++)o.appendChild(constructElement(e[t]));t.appendChild(o)}for(let o=0;o<i.length;o++)if(i[o].localName!==e[o].name){const n=i[o];t.insertBefore(constructElement(e[o]),n);let s=Array.from(n.querySelectorAll("*"));t.removeChild(n);for(let e=s.length;e--;)s[e].dispose&&s[e].dispose();n.dispose&&n.dispose()}else if(i[o].className="",i[o].hasOwnProperty("__properties"))i[o].setProperties(e[o].props),i[o].__listeners.setPropListeners(e[o].props,i[o]),i[o].__listeners.connect();else{for(let t in e[o].props)if("style"===t)for(let n in e[o].props.style)i[o].style.setProperty(n,e[o].props[t][n]);else i[o][t]=e[o].props[t];i[o].__listeners.setPropListeners(e[o].props,i[o]),i[o].__listeners.connect()}for(let t=0;t<e.length;t++)e[t].props.id&&(this.$[e[t].props.id]=i[t]),e[t].children&&"string"==typeof e[t].children?i[t].innerText=e[t].children:e[t].children&&"object"==typeof e[t].children&&this.traverse(e[t].children,i[t])}setAttribute(e,t){!0===t?HTMLElement.prototype.setAttribute.call(this,e,""):!1===t||""===t?this.removeAttribute(e):"string"!=typeof t&&"number"!=typeof t||this.getAttribute(e)!==String(t)&&HTMLElement.prototype.setAttribute.call(this,e,t)}}const warning=document.createElement("div");let ro;function html(e){let t={string:"",vars:{}};for(let i=0;i<e.length;i++)t.string+=e[i]+(arguments[i+1]||"");let i=t.string.match(/-{2}?([a-z][a-z0-9]*)\b[^;]*;?/gi);if(i)for(let e=0;e<i.length;e++){let o=i[e].split(":");2===o.length&&(t.vars[o[0].trim()]=o[1].trim())}return t}warning.innerHTML='\nNo support for custom elements detected! <br />\nSorry, modern browser is required to view this page.<br />\nPlease try <a href="https://www.mozilla.org/en-US/firefox/new/">Firefox</a>,\n<a href="https://www.google.com/chrome/">Chrome</a> or\n<a href="https://www.apple.com/lae/safari/">Safari</a>',IoElement.Register=function(){IoNodeMixin.Register.call(this);const e=this.name.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();Object.defineProperty(this,"localName",{value:e}),Object.defineProperty(this.prototype,"localName",{value:e}),void 0!==window.customElements?(window.customElements.define(e,this),initStyle(this.prototype.__protochain)):document.body.insertBefore(warning,document.body.children[0])},void 0!==window.ResizeObserver&&(ro=new ResizeObserver(e=>{for(let t of e)t.target.resized()}));const constructElement=function(e){let t=window.customElements?window.customElements.get(e.name):null;if(t)return new t(e.props);let i=document.createElement(e.name);for(let t in e.props)if("style"===t)for(let o in e.props[t])i.style[o]=e.props[t][o];else i[t]=e.props[t];return Object.defineProperty(i,"__listeners",{value:new Listeners(i)}),i.__listeners.setPropListeners(e.props,i),i.__listeners.connect(),i},clense=(e,t)=>t?"string"==typeof t[0]?[...e,t]:[...e,...t]:e,buildTree=()=>e=>e&&"object"==typeof e[1]&&!Array.isArray(e[1])?{name:e[0],props:e[1],children:Array.isArray(e[2])?e[2].reduce(clense,[]).map(buildTree()):e[2]||""}:buildTree()([e[0],{},e[1]||""]),_stagingElement=document.createElement("div");function initStyle(e){let t=e[0].constructor.name.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();for(let i=e.length;i--;){let o=e[i].constructor.style;if(o){o.string=o.string.replace(new RegExp(":host","g"),t);for(let e in o.vars)o.string=o.string.replace(new RegExp(e,"g"),e.replace("--","--"+t+"-"));_stagingElement.innerHTML=o.string;let e=_stagingElement.querySelector("style");e.setAttribute("id","io-style-"+t+"-"+i),document.head.appendChild(e)}}}"serviceWorker"in navigator||console.error("No Service Worker support!"),"PushManager"in window||console.error("No Push API Support!");class IoServiceLoader extends IoNode{static get properties(){return{path:"service.js",serviceWorker:void 0,granted:window.Notification&&"granted"===window.Notification.permission,subscription:""}}constructor(e){super(e),this.init()}async init(){const e=await navigator.serviceWorker.register(this.path);e.update(),navigator.serviceWorker.addEventListener("message",this.onServiceWorkerMessage),e.active?this.serviceWorker=e:e.addEventListener("activate",()=>{this.serviceWorker=e})}serviceWorkerChanged(){this.granted&&this.subscribe()}subscribe(){navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({command:"subscribe"})}async requestNotification(){this.granted="granted"===await window.Notification.requestPermission(),this.granted&&this.subscribe()}onServiceWorkerMessage(e){const t=JSON.parse(e.data);t.subscription&&(this.subscription=JSON.stringify(t.subscription))}}const nodes={};let hashes={};const parseHashes=function(){return window.location.hash.substr(1).split("&").reduce(function(e,t){const i=t.split("=");return e[i[0]]=i[1],e},{})},getHashes=function(){hashes=window.location.hash.substr(1).split("&").reduce(function(e,t){const i=t.split("=");return e[i[0]]=i[1],e},{});for(let e in hashes)nodes[e]&&""!==nodes[e]&&(isNaN(hashes[e])?"true"===hashes[e]||"false"===hashes[e]?nodes[e].value=JSON.parse(hashes[e]):nodes[e].value=hashes[e]:nodes[e].value=JSON.parse(hashes[e]))},setHashes=function(e){let t="";for(let i in nodes)(nodes[i].hash||e)&&void 0!==nodes[i].value&&""!==nodes[i].value&&nodes[i].value!==nodes[i].defValue&&("string"==typeof nodes[i].value?t+=i+"="+nodes[i].value+"&":t+=i+"="+JSON.stringify(nodes[i].value)+"&");t=t.slice(0,-1),window.location.hash=t,window.location.hash||history.replaceState({},document.title,".")};window.addEventListener("hashchange",getHashes,!1),getHashes();class IoStorageNode extends IoNode{static get properties(){return{key:String,value:void 0,defValue:void 0,hash:Boolean}}constructor(e,t){super(e),this.defValue=t;const i=hashes[this.key],o="/"!==window.location.pathname?window.location.pathname+this.key:this.key,n=localStorage.getItem(o);this.value=void 0!==i?JSON.parse(i):null!==n&&void 0!==n?JSON.parse(n):t}valueChanged(){setHashes();const e="/"!==window.location.pathname?window.location.pathname+this.key:this.key;null===this.value||void 0===this.value?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(this.value))}}function IoStorage(e,t,i){return nodes[e]||(nodes[e]=new IoStorageNode({key:e,hash:i},t),nodes[e].binding=nodes[e].bind("value"),nodes[e].connect(window),nodes[e].valueChanged()),nodes[e].binding}class IoProperties extends IoElement{static get style(){return html`<style>:host {display: flex;flex-direction: column;flex: 0 0;line-height: 1em;}:host > .io-property {display: flex !important;flex-direction: row;}:host > .io-property > .io-property-label {padding: 0 0.2em 0 0.5em;flex: 0 0 auto;color: var(--io-theme-color);}:host > .io-property > .io-property-editor {margin: 0;padding: 0;}:host > .io-property > io-object,:host > .io-property > io-object > io-boolean,:host > .io-property > io-object > io-properties {padding: 0 !important;border: none !important;background: none !important;}:host > .io-property > io-number,:host > .io-property > io-string,:host > .io-property > io-boolean {border: none;background: none;}:host > .io-property > io-number {color: var(--io-theme-number-color);}:host > .io-property > io-string {color: var(--io-theme-string-color);}:host > .io-property > io-boolean {color: var(--io-theme-boolean-color);}</style>`}static get properties(){return{value:Object,config:Object,props:Array,labeled:!0}}get _config(){return this.__proto__.__config.getConfig(this.value,this.config)}_onValueSet(e){const t=e.composedPath();if(t[0]===this)return;if(e.detail.object)return;e.stopPropagation();const i=t[0].id;if(null!==i){this.value[i]=e.detail.value;const t=Object.assign({object:this.value,key:i},e.detail);this.dispatchEvent("object-mutated",t,!1,window),this.dispatchEvent("value-set",t,!1)}}changed(){const e=this._config,t=[];for(let i in e)if(!this.props.length||-1!==this.props.indexOf(i)){const o=e[i][0],n=e[i][1],s=e[i].label||i,r={className:"io-property-editor",title:s,id:i,value:this.value[i],"on-value-set":this._onValueSet};t.push(["div",{className:"io-property"},[this.labeled?["span",{className:"io-property-label",title:s},s+":"]:null,[o,Object.assign(r,n)]]])}this.template(t)}static get config(){return{"type:string":["io-string",{}],"type:number":["io-number",{step:.01}],"type:boolean":["io-boolean",{true:"☑ true",false:"☐ false"}],"type:object":["io-object",{}],"type:null":["io-string",{}],"type:undefined":["io-string",{}]}}}class Config{constructor(e){for(let t=0;t<e.length;t++)this.registerConfig(e[t].constructor.config||{})}registerConfig(e){for(let t in e)this[t]=this[t]||[],this[t]=[e[t][0]||this[t][0],Object.assign(this[t][1]||{},e[t][1]||{})]}getConfig(e,t){const i=Object.keys(e),o=[];let n=e.__proto__;for(;n;)n.constructor!==HTMLElement&&n.constructor!==Element&&n.constructor!==Node&&n.constructor!==EventTarget&&n.constructor!==Object&&i.push(...Object.keys(n)),o.push(n.constructor.name),n=n.__proto__;const s={};for(let e in this){const t=e.split("|");1===t.length&&t.splice(0,0,"Object"),-1!==o.indexOf(t[0])&&(s[t[1]]=this[e])}for(let e in t){const i=e.split("|");1===i.length&&i.splice(0,0,"Object"),-1!==o.indexOf(i[0])&&(s[i[1]]=t[e])}const r={};for(let t=0;t<i.length;t++){const o=i[t],n=e[o],a=null===n?"null":typeof n,l=void 0!=n&&n.constructor?n.constructor.name:"null";if("function"==a)continue;const h="type:"+a,c="constructor:"+l,p=o;r[o]={},s[h]&&(r[o]=s[h]),s[c]&&(r[o]=s[c]),s[p]&&(r[o]=s[p])}return r}}IoProperties.Register=function(){IoElement.Register.call(this),Object.defineProperty(this.prototype,"__config",{value:new Config(this.prototype.__protochain)})},IoProperties.Register(),IoProperties.RegisterConfig=function(e){this.prototype.__config.registerConfig(e)};class IoArray extends IoProperties{static get style(){return html`<style>:host {display: grid;grid-row-gap: var(--io-theme-spacing);grid-column-gap: var(--io-theme-spacing);}:host[columns="2"] {grid-template-columns: auto auto;}:host[columns="3"] {grid-template-columns: auto auto auto;}:host[columns="4"] {grid-template-columns: auto auto auto auto;}</style>`}changed(){const e=[];this.setAttribute("columns",this.columns||Math.sqrt(this.value.length)||1);for(let t=0;t<this.value.length;t++)e.push(["io-number",{id:t,value:this.value[t],"on-value-set":this._onValueSet}]);this.template(e)}}IoArray.Register();class IoButton extends IoElement{static get style(){return html`<style>:host {display: inline-block;cursor: pointer;white-space: nowrap;-webkit-tap-highlight-color: transparent;overflow: hidden;text-overflow: ellipsis;line-height: 1em;border: var(--io-theme-button-border);border-radius: var(--io-theme-border-radius);padding: var(--io-theme-padding);padding-left: calc(3 * var(--io-theme-padding));padding-right: calc(3 * var(--io-theme-padding));background: var(--io-theme-button-bg);transition: background-color 0.4s;color: var(--io-theme-color);user-select: none;}:host:focus {outline: none;background: var(--io-theme-focus-bg);}:host:hover {background: var(--io-theme-hover-bg);}:host[pressed] {background: var(--io-theme-active-bg);}:host > span {text-align: center;}</style>`}static get properties(){return{value:void 0,label:"Button",pressed:{type:Boolean,reflect:!0},action:Function,tabindex:0}}static get listeners(){return{keydown:"onKeydown",click:"onClick"}}onKeydown(e){this.pressed||13!==e.which&&32!==e.which||(e.stopPropagation(),this.pressed=!0,this.addEventListener("keyup",this.onKeyup))}onKeyup(){this.removeEventListener("keyup",this.onKeyup),this.pressed=!1,this.action&&this.action(this.value),this.dispatchEvent("io-button-clicked",{value:this.value,action:this.action})}onClick(){this.pressed=!1,this.action&&this.action(this.value),this.dispatchEvent("io-button-clicked",{value:this.value,action:this.action})}changed(){this.title=this.label,this.template([["span",this.label]])}}IoButton.Register();class IoBoolean extends IoButton{static get style(){return html`<style>:host {display: inline;background: none;}</style>`}static get properties(){return{value:{type:Boolean,reflect:!0},true:"true",false:"false"}}constructor(e){super(e),this.action=this.toggle}toggle(){this.set("value",!this.value)}changed(){this.innerText=this.value?this.true:this.false}}IoBoolean.Register();const canvas=document.createElement("canvas"),gl=canvas.getContext("webgl",{antialias:!0,premultipliedAlpha:!1});gl.enable(gl.BLEND),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),gl.disable(gl.DEPTH_TEST);const positionBuff=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,positionBuff),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([-1,1,0,-1,-1,0,1,-1,0,1,1,0]),gl.STATIC_DRAW),gl.bindBuffer(gl.ARRAY_BUFFER,null);const uvBuff=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,uvBuff),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),gl.STATIC_DRAW),gl.bindBuffer(gl.ARRAY_BUFFER,null);const indexBuff=gl.createBuffer();gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,indexBuff),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([3,2,1,3,1,0]),gl.STATIC_DRAW),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,null);const vertCode="\nattribute vec3 position;\nattribute vec2 uv;\nvarying vec2 vUv;\nvoid main(void) {\n  vUv = uv;\n  gl_Position = vec4(position, 1.0);\n}",vertShader=gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(vertShader,vertCode),gl.compileShader(vertShader),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,indexBuff);const shadersCache=new WeakMap;class IoCanvas extends IoElement{static get style(){return html`<style>:host {box-sizing: border-box;overflow: hidden;position: relative;border: 1px solid black;}:host > canvas {position: absolute;top: 0px;left: 0px;touch-action: none;user-select: none;}</style>`}static get properties(){return{bg:[0,0,0,1],color:[1,1,1,1],size:[1,1]}}static get frag(){return"\n    varying vec2 vUv;\n    void main(void) {\n      vec2 px = size * vUv;\n      px = mod(px, 5.0);\n      if (px.x > 1.0 && px.y > 1.0) discard;\n      gl_FragColor = color;\n    }"}constructor(e){super(e);let t="precision mediump float;";for(let e in this.__properties){let i=this.__properties[e].type,o=this.__properties[e].value;i===Number?t+="uniform float "+e+";\n":i===Array&&(t+="uniform vec"+o.length+" "+e+";\n")}const i=gl.createShader(gl.FRAGMENT_SHADER);gl.shaderSource(i,t+this.constructor.frag),gl.compileShader(i),shadersCache.has(this.constructor)?this._shader=shadersCache.get(this.constructor):(this._shader=gl.createProgram(),gl.attachShader(this._shader,vertShader),gl.attachShader(this._shader,i),shadersCache.set(this.constructor,this._shader)),gl.linkProgram(this._shader);const o=gl.getAttribLocation(this._shader,"position");gl.bindBuffer(gl.ARRAY_BUFFER,positionBuff),gl.vertexAttribPointer(o,3,gl.FLOAT,!1,0,0),gl.enableVertexAttribArray(o);const n=gl.getAttribLocation(this._shader,"uv");gl.bindBuffer(gl.ARRAY_BUFFER,uvBuff),gl.vertexAttribPointer(n,2,gl.FLOAT,!1,0,0),gl.enableVertexAttribArray(n),this.template([["canvas",{id:"canvas"}]]),this._context2d=this.$.canvas.getContext("2d"),this.render()}resized(){const e=this.getBoundingClientRect();this.size[0]=e.width,this.size[1]=e.height,this.render()}changed(){this.render()}render(){if(this._shader){canvas.width=this.size[0],canvas.height=this.size[1],gl.viewport(0,0,this.size[0],this.size[1]),gl.clearColor(this.bg[0],this.bg[1],this.bg[2],this.bg[3]),gl.clear(gl.COLOR_BUFFER_BIT),gl.useProgram(this._shader);for(let e in this.__properties){let t=this.__properties[e].type,i=this.__properties[e].value;if(t===Number){const t=gl.getUniformLocation(this._shader,e);gl.uniform1f(t,i)}else if(t===Array){const t=gl.getUniformLocation(this._shader,e);switch(i.length){case 2:gl.uniform2f(t,i[0],i[1]);break;case 3:gl.uniform3f(t,i[0],i[1],i[2]);break;case 4:gl.uniform4f(t,i[0],i[1],i[2],i[3])}}}gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED_SHORT,0),this._context2d&&canvas.width&&canvas.height&&(this.$.canvas.width=canvas.width,this.$.canvas.height=canvas.height,this._context2d.drawImage(canvas,0,0,canvas.width,canvas.height))}}}IoCanvas.Register();class IoCollapsable extends IoElement{static get style(){return html`<style>:host {display: flex;flex-direction: column;border: var(--io-theme-frame-border);border-radius: var(--io-theme-border-radius);padding: var(--io-theme-padding);background: var(--io-theme-frame-bg);}:host > io-boolean {border: none;border-radius: 0;background: none;}:host > io-boolean:focus {border: none;}:host > io-boolean::before {content: '▸';display: inline-block;width: 0.65em;margin: 0 0.25em;}:host[expanded] > io-boolean{margin-bottom: var(--io-theme-padding);}:host[expanded] > io-boolean::before{content: '▾';}:host > .io-collapsable-content {display: block;border: var(--io-theme-content-border);border-radius: var(--io-theme-border-radius);padding: var(--io-theme-padding);background: var(--io-theme-content-bg);}</style>`}static get properties(){return{label:String,expanded:{type:Boolean,reflect:!0},elements:Array}}changed(){this.template([["io-boolean",{true:this.label,false:this.label,value:this.bind("expanded")}],this.expanded&&this.elements.length?["div",{className:"io-collapsable-content"},this.elements]:null])}}IoCollapsable.Register();const stagingElement=document.createElement("div");class IoElementCache extends IoElement{static get properties(){return{selected:Number,elements:Array,precache:Boolean,cache:Boolean,_cache:Object}}connectedCallback(){super.connectedCallback(),document.addEventListener("readystatechange",this.readystatechange)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("readystatechange",this.readystatechange)}readystatechange(){this.precacheChanged()}precacheChanged(){if(this.precache&&"complete"===document.readyState){this.template(this.elements,stagingElement);for(let e=0;e<stagingElement.childNodes.length;e++)this._cache[e]=stagingElement.childNodes[e];stagingElement.innerHTML=""}}dispose(){super.dispose(),this.innerHTML="",stagingElement.innerHTML="",delete this._cache}changed(){this.elements[this.selected]&&((this.precache||this.cache)&&!0===this.elements[this.selected].cache&&this._cache[this.selected]?(this.innerHTML="",this.appendChild(this._cache[this.selected])):this.cache?(this.innerHTML="",this.template([this.elements[this.selected]],stagingElement),this._cache[this.selected]=stagingElement.childNodes[0],this.appendChild(this._cache[this.selected]),stagingElement.innerHTML=""):this.template([this.elements[this.selected]]))}}IoElementCache.Register();class IoInspectorBreadcrumbs extends IoElement{static get style(){return html`<style>:host {display: flex;flex: 1 0;flex-direction: row;border: var(--io-theme-field-border);border-radius: var(--io-theme-border-radius);padding: var(--io-theme-padding);color: var(--io-theme-field-color);background: var(--io-theme-field-bg);}:host > io-inspector-link {border: none;overflow: hidden;text-overflow: ellipsis;background: none;padding: 0;padding: var(--io-theme-padding);}:host > io-inspector-link:first-of-type {color: var(--io-theme-color);overflow: visible;text-overflow: clip;margin-left: 0.5em;}:host > io-inspector-link:last-of-type {overflow: visible;text-overflow: clip;margin-right: 0.5em;}:host > io-inspector-link:not(:first-of-type):before {content: '>';margin: 0 0.5em;opacity: 0.25;}</style>`}static get properties(){return{crumbs:Array}}changed(){this.template([this.crumbs.map(e=>["io-inspector-link",{value:e}])])}}IoInspectorBreadcrumbs.Register();class IoInspectorLink extends IoButton{static get style(){return html`<style>:host {border: none;overflow: hidden;text-overflow: ellipsis;background: none;padding: 0;border: 1px solid transparent;color: var(--io-theme-link-color);padding: var(--io-theme-padding) !important;}:host:focus {outline: none;background: none;text-decoration: underline;}:host:hover {background: none;text-decoration: underline;}:host[pressed] {background: none;}</style>`}changed(){let e=this.value.constructor.name;this.value.name?e+=" ("+this.value.name+")":this.value.label?e+=" ("+this.value.label+")":this.value.title?e+=" ("+this.value.title+")":this.value.id&&(e+=" ("+this.value.id+")"),this.title=e,this.template([["span",e]])}}function isValueOfPropertyOf(e,t){for(let i in t)if(t[i]===e)return i;return null}IoInspectorLink.Register();class IoInspector extends IoElement{static get style(){return html`<style>:host {display: flex;flex-direction: column;border: var(--io-theme-content-border);border-radius: var(--io-theme-border-radius);padding: var(--io-theme-padding);background: var(--io-theme-content-bg);}:host > io-inspector-breadcrumbs {margin: var(--io-theme-spacing);}:host > io-collapsable {margin: var(--io-theme-spacing);}:host > io-collapsable > div io-properties > .io-property {overflow: hidden;padding: var(--io-theme-padding);}:host > io-collapsable > div io-properties > .io-property:not(:last-of-type) {border-bottom: var(--io-theme-border);}:host > io-collapsable > div io-properties > .io-property > :nth-child(1) {overflow: hidden;text-overflow: ellipsis;text-align: right;flex: 0 1 8em;min-width: 3em;padding: var(--io-theme-padding);margin: calc(0.25 * var(--io-theme-spacing));}:host > io-collapsable > div io-properties > .io-property > :nth-child(2) {flex: 1 0 8em;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;min-width: 2em;}/* :host > .io-property > io-object,:host > .io-property > io-object > io-boolean,:host > .io-property > io-object > io-properties {padding: 0 !important;border: none !important;background: none !important;} */:host div io-properties > .io-property > io-object,:host div io-properties > .io-property > io-number,:host div io-properties > .io-property > io-string,:host div io-properties > .io-property > io-boolean {border: 1px solid transparent;padding: var(--io-theme-padding) !important;}:host div io-properties > .io-property > io-boolean:not([value]) {opacity: 0.5;}:host div io-properties > .io-property > io-option {flex: 0 1 auto !important;padding: var(--io-theme-padding) !important;}:host div io-properties > .io-property > io-number,:host div io-properties > .io-property > io-string {border: var(--io-theme-field-border);color: var(--io-theme-field-color);background: var(--io-theme-field-bg);}:host io-properties > .io-property > io-properties {border: var(--io-theme-field-border);background: rgba(127, 127, 127, 0.125);}</style>`}static get properties(){return{value:Object,props:Array,config:Object,labeled:!0,crumbs:Array}}static get listeners(){return{"io-button-clicked":"onLinkClicked"}}onLinkClicked(e){e.stopPropagation(),"io-inspector-link"===e.path[0].localName&&(this.value=e.detail.value)}get groups(){return this.__proto__.__config.getConfig(this.value,this.config)}valueChanged(){let e=this.crumbs.find(e=>e===this.value),t=this.crumbs[this.crumbs.length-1];e?this.crumbs.length=this.crumbs.indexOf(e)+1:(t&&isValueOfPropertyOf(this.value,t)||(this.crumbs.length=0),this.crumbs.push(this.value)),this.dispatchEvent("object-mutated",{object:this.crumbs},!1,window)}changed(){const e=[["io-inspector-breadcrumbs",{crumbs:this.crumbs}]];let t=this.value.constructor.name;t+=this.value.guid||this.value.uuid||this.value.id||"";for(let i in this.groups)e.push(["io-collapsable",{label:i,expanded:IoStorage("io-inspector-group-"+t+"-"+i,!1),elements:[["io-properties",{value:this.value,props:this.groups[i],config:{"type:object":["io-inspector-link"]},labeled:!0}]]}]);this.template(e)}static get config(){return{"Object|hidden":[/^_/],"HTMLElement|hidden":[/^_/,"innerText","outerText","innerHTML","outerHTML","textContent"]}}}class Config$1{constructor(e){for(let t=0;t<e.length;t++)this.registerConfig(e[t].constructor.config||{})}registerConfig(e){for(let t in e)this[t]=this[t]||[],this[t]=[...this[t],...e[t]]}getConfig(e,t){const i=Object.keys(e),o=[];let n=e.__proto__;for(;n;)i.push(...Object.keys(n)),o.push(n.constructor.name),n=n.__proto__;const s={};for(let e in this){const t=e.split("|");1===t.length&&t.splice(0,0,"Object"),-1!==o.indexOf(t[0])&&(s[t[1]]=s[t[1]]||[],s[t[1]].push(...this[e]))}for(let e in t){const i=e.split("|");1===i.length&&i.splice(0,0,"Object"),-1!==o.indexOf(i[0])&&(s[i[1]]=s[i[1]]||[],s[i[1]].push(t[e]))}const r={},a=[];for(let e in s){r[e]=r[e]||[];for(let t in s[e]){const o=s[e][t],n=new RegExp(o);for(let t=0;t<i.length;t++){const s=i[t];"string"==typeof o?s==o&&(r[e].push(s),a.push(s)):"object"==typeof o&&n.exec(s)&&(r[e].push(s),a.push(s))}}}if(0===a.length)r.properties=i;else for(let e=0;e<i.length;e++)r.properties=r.properties||[],-1===a.indexOf(i[e])&&r.properties.push(i[e]);for(let e in r)0===r[e].length&&delete r[e];return delete r.hidden,r}}IoInspector.Register=function(){IoElement.Register.call(this),Object.defineProperty(this.prototype,"__config",{value:new Config$1(this.prototype.__protochain)})},IoInspector.Register(),IoInspector.RegisterConfig=function(e){this.prototype.__config.registerConfig(e)},function(e){var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:g,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:g,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:g,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function i(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||v.defaults,this.rules=t.normal,this.options.pedantic?this.rules=t.pedantic:this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,t._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,t.def=c(t.def).replace("label",t._label).replace("title",t._title).getRegex(),t.bullet=/(?:[*+-]|\d+\.)/,t.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,t.item=c(t.item,"gm").replace(/bull/g,t.bullet).getRegex(),t.list=c(t.list).replace(/bull/g,t.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+t.def.source+")").getRegex(),t._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",t._comment=/<!--(?!-?>)[\s\S]*?-->/,t.html=c(t.html,"i").replace("comment",t._comment).replace("tag",t._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),t.paragraph=c(t.paragraph).replace("hr",t.hr).replace("heading",t.heading).replace("lheading",t.lheading).replace("tag",t._tag).getRegex(),t.blockquote=c(t.blockquote).replace("paragraph",t.paragraph).getRegex(),t.normal=m({},t),t.gfm=m({},t.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=c(t.paragraph).replace("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|").getRegex(),t.tables=m({},t.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),t.pedantic=m({},t.normal,{html:c("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",t._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),i.rules=t,i.lex=function(e,t){return new i(t).lex(e)},i.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},i.prototype.token=function(e,i){var o,n,s,r,a,l,h,c,p,d,u,g,m,v,y,_;for(e=e.replace(/^ +$/gm,"");e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),1<s[0].length&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:b(s,"\n")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]||""});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(i&&(s=this.rules.nptable.exec(e))&&(l={type:"table",header:f(s[1].replace(/^ *| *\| *$/g,"")),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3]?s[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(s[0].length),u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=f(l.cells[u],l.header.length);this.tokens.push(l)}else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,i),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),h={type:"list_start",ordered:v=1<(r=s[2]).length,start:v?+r:"",loose:!1},this.tokens.push(h),o=!(c=[]),m=(s=s[0].match(this.rules.item)).length,u=0;u<m;u++)d=(l=s[u]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(d-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+d+"}","gm"),"")),this.options.smartLists&&u!==m-1&&(r===(a=t.bullet.exec(s[u+1])[0])||1<r.length&&1<a.length||(e=s.slice(u+1).join("\n")+e,u=m-1)),n=o||/\n\n(?!\s*$)/.test(l),u!==m-1&&(o="\n"===l.charAt(l.length-1),n||(n=o)),n&&(h.loose=!0),_=void 0,(y=/^\[[ xX]\] /.test(l))&&(_=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),p={type:"list_item_start",task:y,checked:_,loose:n},c.push(p),this.tokens.push(p),this.token(l,!1),this.tokens.push({type:"list_item_end"});if(h.loose)for(m=c.length,u=0;u<m;u++)c[u].loose=!0;this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]});else if(i&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),s[3]&&(s[3]=s[3].substring(1,s[3].length-1)),g=s[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[g]||(this.tokens.links[g]={href:s[2],title:s[3]});else if(i&&(s=this.rules.table.exec(e))&&(l={type:"table",header:f(s[1].replace(/^ *| *\| *$/g,"")),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3]?s[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(s[0].length),u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=f(l.cells[u].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(i&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var o={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:g,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:g,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function n(e,t){if(this.options=t||v.defaults,this.links=e,this.rules=o.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.options.breaks?this.rules=o.breaks:this.rules=o.gfm)}function s(e){this.options=e||v.defaults}function r(){}function a(e){this.tokens=[],this.token=null,this.options=e||v.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options}function l(e,t){if(t){if(l.escapeTest.test(e))return e.replace(l.escapeReplace,function(e){return l.replacements[e]})}else if(l.escapeTestNoEncode.test(e))return e.replace(l.escapeReplaceNoEncode,function(e){return l.replacements[e]});return e}function h(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function c(e,t){return e=e.source||e,t=t||"",{replace:function(t,i){return i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,i),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t){return d[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?d[" "+e]=e+"/":d[" "+e]=b(e,"/",!0)),e=d[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}o._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=c(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=c(o.tag).replace("comment",t._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,o._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=c(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=c(o.reflink).replace("label",o._label).getRegex(),o.normal=m({},o),o.pedantic=m({},o.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:c(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:c(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=m({},o.normal,{escape:c(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:c(o.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()}),o.gfm.url=c(o.gfm.url).replace("email",o.gfm._extended_email).getRegex(),o.breaks=m({},o.gfm,{br:c(o.br).replace("{2,}","*").getRegex(),text:c(o.gfm.text).replace("{2,}","*").getRegex()}),n.rules=o,n.output=function(e,t,i){return new n(t,i).output(e)},n.prototype.output=function(e){for(var t,i,o,s,r,a,h="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),h+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),o="@"===r[2]?"mailto:"+(i=l(this.mangle(r[1]))):i=l(r[1]),h+=this.renderer.link(o,null,i);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.inRawBlock=!1),e=e.substring(r[0].length),h+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):l(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,o=r[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o))?(o=t[1],s=t[3]):s="":s=r[3]?r[3].slice(1,-1):"",o=o.trim().replace(/^<([\s\S]*)>$/,"$1"),h+=this.outputLink(r,{href:n.escapes(o),title:n.escapes(s)}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){h+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,h+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),h+=this.renderer.strong(this.output(r[4]||r[3]||r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),h+=this.renderer.em(this.output(r[6]||r[5]||r[4]||r[3]||r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),h+=this.renderer.codespan(l(r[2].trim(),!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),h+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),h+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.inRawBlock?h+=this.renderer.text(r[0]):h+=this.renderer.text(l(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===r[2])o="mailto:"+(i=l(r[0]));else{for(;a=r[0],r[0]=this.rules._backpedal.exec(r[0])[0],a!==r[0];);i=l(r[0]),o="www."===r[1]?"http://"+i:i}e=e.substring(r[0].length),h+=this.renderer.link(o,null,i)}return h},n.escapes=function(e){return e?e.replace(n.rules._escapes,"$1"):e},n.prototype.outputLink=function(e,t){var i=t.href,o=t.title?l(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,o,this.output(e[1])):this.renderer.image(i,o,l(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},n.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,i="",o=e.length,n=0;n<o;n++)t=e.charCodeAt(n),.5<Math.random()&&(t="x"+t.toString(16)),i+="&#"+t+";";return i},s.prototype.code=function(e,t,i){if(this.options.highlight){var o=this.options.highlight(e,t);null!=o&&o!==e&&(i=!0,e=o)}return t?'<pre><code class="'+this.options.langPrefix+l(t,!0)+'">'+(i?e:l(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:l(e,!0))+"</code></pre>"},s.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t,i){var o=t?"ol":"ul";return"<"+o+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+o+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,i){if(this.options.sanitize){try{var o=decodeURIComponent(h(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return i}if(0===o.indexOf("javascript:")||0===o.indexOf("vbscript:")||0===o.indexOf("data:"))return i}this.options.baseUrl&&!u.test(e)&&(e=p(this.options.baseUrl,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return i}var n='<a href="'+l(e)+'"';return t&&(n+=' title="'+t+'"'),n+">"+i+"</a>"},s.prototype.image=function(e,t,i){this.options.baseUrl&&!u.test(e)&&(e=p(this.options.baseUrl,e));var o='<img src="'+e+'" alt="'+i+'"';return t&&(o+=' title="'+t+'"'),o+(this.options.xhtml?"/>":">")},s.prototype.text=function(e){return e},r.prototype.strong=r.prototype.em=r.prototype.codespan=r.prototype.del=r.prototype.text=function(e){return e},r.prototype.link=r.prototype.image=function(e,t,i){return""+i},r.prototype.br=function(){return""},a.parse=function(e,t){return new a(t).parse(e)},a.prototype.parse=function(e){this.inline=new n(e.links,this.options),this.inlineText=new n(e.links,m({},this.options,{renderer:new r})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,h(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,i,o,n="",s="";for(i="",e=0;e<this.token.header.length;e++)i+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(n+=this.renderer.tablerow(i),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],i="",o=0;o<t.length;o++)i+=this.renderer.tablecell(this.inline.output(t[o]),{header:!1,align:this.token.align[o]});s+=this.renderer.tablerow(i)}return this.renderer.table(n,s);case"blockquote_start":for(s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":s="";for(var r=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,r,a);case"list_item_start":s="";var l=this.token.loose;for(this.token.task&&(s+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)s+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(s);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.escapeTest=/[&<>"']/,l.escapeReplace=/[&<>"']/g,l.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,l.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var d={},u=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function g(){}function m(e){for(var t,i,o=1;o<arguments.length;o++)for(i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function f(e,t){var i=e.replace(/\|/g,function(e,t,i){for(var o=!1,n=t;0<=--n&&"\\"===i[n];)o=!o;return o?"|":" |"}).split(/ \|/),o=0;if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;o<i.length;o++)i[o]=i[o].trim().replace(/\\\|/g,"|");return i}function b(e,t,i){if(0===e.length)return"";for(var o=0;o<e.length;){var n=e.charAt(e.length-o-1);if(n!==t||i){if(n===t||!i)break;o++}else o++}return e.substr(0,e.length-o)}function v(e,t,o){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(o||"function"==typeof t){o||(o=t,t=null);var n,s,r=(t=m({},v.defaults,t||{})).highlight,h=0;try{n=i.lex(e,t)}catch(e){return o(e)}s=n.length;var c=function(e){if(e)return t.highlight=r,o(e);var i;try{i=a.parse(n,t)}catch(i){e=i}return t.highlight=r,e?o(e):o(null,i)};if(!r||r.length<3)return c();if(delete t.highlight,!s)return c();for(;h<n.length;h++)!function(e){"code"!==e.type?--s||c():r(e.text,e.lang,function(t,i){return t?c(t):null==i||i===e.text?--s||c():(e.text=i,e.escaped=!0,void(--s||c()))})}(n[h])}else try{return t&&(t=m({},v.defaults,t)),a.parse(i.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||v.defaults).silent)return"<p>An error occurred:</p><pre>"+l(e.message+"",!0)+"</pre>";throw e}}g.exec=g,v.options=v.setOptions=function(e){return m(v.defaults,e),v},v.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new s,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},v.defaults=v.getDefaults(),v.Parser=a,v.parser=a.parse,v.Renderer=s,v.TextRenderer=r,v.Lexer=i,v.lexer=i.lex,v.InlineLexer=n,v.inlineLexer=n.output,v.parse=v,"undefined"!=typeof module&&"object"==typeof exports?module.exports=v:"function"==typeof define&&define.amd?define(function(){return v}):e.marked=v}("undefined"!=typeof window?window:global),window.marked&&window.marked.setOptions({sanitize:!1});class IoMdView extends IoElement{static get style(){return html`
      <style>
      :host {
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        letter-spacing: 0.04em;
        font-weight: 300;
        display: block;
        padding: 0.5em 1em;
        background: #fff;
        box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.3),
                    0 15px 20px 0 rgba(0, 0, 0, 0.1);
        border-radius: var(--io-theme-border-radius);
        overflow: hidden;
      }
      :host p {
        line-height: 1.5em;
      }
      :host a {
        font-weight: bold;
        text-decoration: none;
        color: var(--io-theme-link-color);
      }
      :host code {
        background: rgba(0,0,0,0.05);
        overflow: auto;
        font-weight: bold;
      }
      :host code.language-html,
      :host code.language-javascript {
        padding: 1em;
        display: block;
      }
      :host blockquote {
        border: 1px solid rgba(0,0,0,0.25);
        margin: 0.5em 1em;
        padding: 0.5em 1em;
      }
      :host table  {
        width: 100%;
        border: 1px solid black;
        border-collapse: collapse;
      }
      :host table td,
      :host table tr,
      :host table th {
        border: 1px solid gray;
        text-align: left;
        padding: 0.25em;
      }
      :host .videocontainer {
          width: 100%;
          height: 0;
          position: relative;
          padding-bottom: 56.25%;
      }
      :host .videocontainer > iframe {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
      }
      :host .publishdate {
        text-align: right;
        opacity: 0.5;
      }
      </style>
    `}static get properties(){return{path:{type:String,reflect:!0},vars:Object,role:"document"}}pathChanged(){const e=this;fetch(this.path).then(function(e){return e.text()}).then(function(t){window.marked&&(e.innerHTML=window.marked(t))})}}let previousOption,previousParent,timeoutOpen,timeoutReset;IoMdView.Register();let WAIT_TIME=1200;class IoMenuLayer extends IoElement{static get style(){return html`<style>:host {display: block;visibility: hidden;position: fixed;top: 0;left: 0;bottom: 0;right: 0;z-index: 100000;background: rgba(0, 0, 0, 0.2);user-select: none;overflow: hidden;pointer-events: none;touch-action: none;}:host[expanded] {visibility: visible;pointer-events: all;}:host io-menu-options:not([expanded]) {display: none;}:host io-menu-options {position: absolute;transform: translateZ(0);top: 0;left: 0;min-width: 6em;}</style>`}static get properties(){return{expanded:{type:Boolean,reflect:!0},$options:Array}}static get listeners(){return{pointerup:"onPointerup",pointermove:"onPointermove",dragstart:"preventDefault",contextmenu:"preventDefault"}}constructor(e){super(e),this._hoveredItem=null,this._hoveredGroup=null,this._x=0,this._y=0,this._v=0,window.addEventListener("scroll",this.onScroll)}registerGroup(e){this.$options.push(e),e.addEventListener("focusin",this.onMenuItemFocused),e.addEventListener("keydown",this.onKeydown),e.addEventListener("expanded-changed",this.onGroupExpandedChanged)}unregisterGroup(e){this.$options.splice(this.$options.indexOf(e),1),e.removeEventListener("focusin",this.onMenuItemFocused),e.removeEventListener("keydown",this.onKeydown),e.removeEventListener("expanded-changed",this.onGroupExpandedChanged)}collapseAllGroups(){for(let e=this.$options.length;e--;)this.$options[e].expanded=!1}runAction(e){"function"==typeof e.action?(e.action.apply(null,[e.value]),this.collapseAllGroups()):e.button&&(e.button.click(),this.collapseAllGroups())}onScroll(){this.expanded&&this.collapseAllGroups()}onMenuItemFocused(e){const t=e.composedPath()[0].optionschain;for(let e=this.$options.length;e--;)-1===t.indexOf(this.$options[e])&&(this.$options[e].expanded=!1)}onPointermove(e){e.preventDefault(),this._x=e.clientX,this._y=e.clientY,this._v=(2*this._v+Math.abs(e.movementY)-Math.abs(e.movementX))/3;let t=this.$options;for(let e=t.length;e--;)if(t[e].expanded){let i=t[e].getBoundingClientRect();if(i.top<this._y&&i.bottom>this._y&&i.left<this._x&&i.right>this._x)return this._hover(t[e]),this._hoveredGroup=t[e],t[e]}this._hoveredItem=null,this._hoveredGroup=null}onPointerup(e){e.stopPropagation(),e.preventDefault();let t=e.composedPath()[0];"io-menu-item"===t.localName?(this.runAction(t.option),t.menuroot.dispatchEvent("io-menu-item-clicked",t.option)):t===this&&(this._hoveredItem?(this.runAction(this._hoveredItem.option),this._hoveredItem.menuroot.dispatchEvent("io-menu-item-clicked",this._hoveredItem.option)):this._hoveredGroup||this.collapseAllGroups())}onKeydown(e){e.preventDefault();const t=e.composedPath();if("io-menu-item"!==t[0].localName)return;let i=t[0],o=i.$parent,n=[...o.querySelectorAll("io-menu-item")]||[],s=i.$options?[...i.$options.querySelectorAll("io-menu-item")]:[],r=n.indexOf(i),a="";switch(o.horizontal?("ArrowUp"==e.key&&(a="out"),"ArrowRight"==e.key&&(a="next"),"ArrowDown"==e.key&&(a="in"),"ArrowLeft"==e.key&&(a="prev")):("ArrowUp"==e.key&&(a="prev"),"ArrowRight"==e.key&&(a="in"),"ArrowDown"==e.key&&(a="next"),"ArrowLeft"==e.key&&(a="out")),"Tab"==e.key&&(a="next"),"Escape"==e.key&&(a="exit"),"Enter"!=e.key&&32!=e.which||(a="action"),a){case"action":this.onPointerup(e);break;case"prev":n[(r+n.length-1)%n.length].focus();break;case"next":n[(r+1)%n.length].focus();break;case"in":s.length&&s[0].focus();break;case"out":o&&o.$parent&&o.$parent.focus();break;case"exit":this.collapseAllGroups()}}_hover(e){let t=e.querySelectorAll("io-menu-item");for(let i=t.length;i--;){let o=t[i].getBoundingClientRect();if(o.top<this._y&&o.bottom>this._y&&o.left<this._x&&o.right>this._x){let o=e.horizontal;return this._focus(t[i],o),this._hoveredItem=t[i],t[i]}}this._hoveredItem=null,this._hoveredItem=null}_focus(e,t){e!==previousOption&&(clearTimeout(timeoutOpen),clearTimeout(timeoutReset),this._v>1||e.parentNode!==previousParent||t?(previousOption=e,e.focus()):timeoutOpen=setTimeout(function(){previousOption=e,e.focus()}.bind(this),WAIT_TIME),previousParent=e.parentNode,timeoutReset=setTimeout(function(){previousOption=null,previousParent=null}.bind(this),WAIT_TIME+1))}onGroupExpandedChanged(e){const t=e.composedPath();t[0].expanded&&this._setGroupPosition(t[0]);for(let e=this.$options.length;e--;)if(this.$options[e].expanded)return void(this.expanded=!0);setTimeout(()=>{this.expanded=!1})}_setGroupPosition(e){if(!e.$parent)return;let t=e.getBoundingClientRect(),i=e.$parent.getBoundingClientRect();switch("bottom"===e.position&&t.height>window.innerHeight-this._y&&(e.position="right"),e.position){case"pointer":e._x=this._x-2||i.x,e._y=this._y-2||i.y;break;case"bottom":e._x=i.x,e._y=i.bottom;break;case"right":default:e._x=i.right,e._y=i.y,e._x+t.width>window.innerWidth&&(e._x=i.x-t.width)}e._x=Math.max(0,Math.min(e._x,window.innerWidth-t.width)),e._y=Math.min(e._y,window.innerHeight-t.height),e.style.left=e._x+"px",e.style.top=e._y+"px"}expandedChanged(){if(!this.expanded)return;let e=this._hoveredGroup;if(e){let t=e.getBoundingClientRect();if(t.height>window.innerHeight){if(this._y<100&&t.top<0){let i=(100-this._y)/5e3,o=t.top;e._y=e._y-Math.ceil(o*i)+1}else if(this._y>window.innerHeight-100&&t.bottom>window.innerHeight){let i=(100-(window.innerHeight-this._y))/5e3,o=t.bottom-window.innerHeight;e._y=e._y-Math.ceil(o*i)-1}e.style.left=e._x+"px",e.style.top=e._y+"px"}}requestAnimationFrame(this.expandedChanged)}}IoMenuLayer.Register(),IoMenuLayer.singleton=new IoMenuLayer,document.body.appendChild(IoMenuLayer.singleton);class IoMenuOptions extends IoElement{static get style(){return html`<style>:host {display: flex;flex-direction: column;white-space: nowrap;user-select: none;touch-action: none;background: white;color: black;padding: var(--io-theme-padding);border: var(--io-theme-menu-border);border-radius: var(--io-theme-border-radius);box-shadow: var(--io-theme-menu-shadow);}:host[horizontal] {flex-direction: row;}:host[horizontal] > io-menu-item {margin-left: 0.5em;margin-right: 0.5em;}:host[horizontal] > io-menu-item > :not(.menu-label) {display: none;}</style>`}static get properties(){return{options:Array,expanded:{type:Boolean,reflect:!0},position:"right",horizontal:{type:Boolean,reflect:!0},$parent:HTMLElement}}static get listeners(){return{focusin:"_onFocus"}}optionsChanged(){const e=this.horizontal?"bottom":"right";this.template([this.options.map((t,i)=>["io-menu-item",{$parent:this,option:"object"==typeof this.options[i]?this.options[i]:{value:this.options[i],label:this.options[i]},position:e}])])}connectedCallback(){super.connectedCallback(),IoMenuLayer.singleton.registerGroup(this)}disconnectedCallback(){super.disconnectedCallback(),IoMenuLayer.singleton.unregisterGroup(this)}_onFocus(e){const t=e.composedPath()[0];IoMenuLayer.singleton._hoveredGroup=this,"io-menu-item"===t.localName&&(IoMenuLayer.singleton._hoveredItem=t,t.option.options&&(this.expanded=!0))}}IoMenuOptions.Register();class IoMenuItem extends IoElement{static get style(){return html`<style>:host {display: flex;flex-direction: row;cursor: pointer;padding: var(--io-theme-padding);line-height: 1em;touch-action: none;}:host > * {pointer-events: none;padding: var(--io-theme-spacing);}:host > .menu-icon {width: 1.25em;line-height: 1em;}:host > .menu-label {flex: 1;}:host > .menu-hint {opacity: 0.5;padding: 0 0.5em;}:host > .menu-more {opacity: 0.25;}/* @media (-webkit-min-device-pixel-ratio: 2) {:host > * {padding: calc(2 * var(--io-theme-spacing));}} */</style>`}static get properties(){return{option:Object,position:String,$parent:HTMLElement,tabindex:1}}static get listeners(){return{focus:"onFocus",pointerdown:"onPointerdown"}}get menuroot(){let e=this;for(;e&&e.$parent;)e=e.$parent;return e}get optionschain(){const e=[];this.$options&&e.push(this.$options);let t=this.$parent;for(;t;)"io-menu-options"==t.localName&&e.push(t),t=t.$parent;return e}changed(){if(this.option.options){let e={options:this.option.options,$parent:this,position:this.position};this.$options?this.$options.setProperties(e):this.$options=new IoMenuOptions(e)}this.template([this.option.icon?["span",{className:"menu-icon"},this.option.icon]:null,["span",{className:"menu-label"},this.option.label||this.option.value],this.option.hint?["span",{className:"menu-hint"}]:null,this.option.options?["span",{className:"menu-more"},"▸"]:null])}disconnectedCallback(){super.disconnectedCallback(),this.$options&&this.$options.parentNode&&IoMenuLayer.singleton.removeChild(this.$options)}onPointerdown(e){IoMenuLayer.singleton.setPointerCapture(e.pointerId),this.focus()}onFocus(){this.$options&&(this.$options.parentNode||IoMenuLayer.singleton.appendChild(this.$options),this.$options.expanded=!0)}}IoMenuItem.Register();class IoMenu extends IoElement{static get properties(){return{options:Array,expanded:Boolean,position:"pointer",ondown:!0,button:0}}constructor(e){super(e),this.template([["io-menu-options",{id:"group",$parent:this,options:this.bind("options"),position:this.bind("position"),expanded:this.bind("expanded")}]]),this.$.group.__parent=this}connectedCallback(){super.connectedCallback(),this._parent=this.parentElement,this._parent.addEventListener("pointerdown",this.onPointerdown),this._parent.addEventListener("contextmenu",this.onContextmenu),this._parent.style["touch-action"]="none",IoMenuLayer.singleton.appendChild(this.$.group)}disconnectedCallback(){super.disconnectedCallback(),this._parent.removeEventListener("pointerdown",this.onPointerdown),this._parent.removeEventListener("contextmenu",this.onContextmenu),this.$.group&&IoMenuLayer.singleton.removeChild(this.$.group)}getBoundingClientRect(){return this._parent.getBoundingClientRect()}onContextmenu(e){2===this.button&&(e.preventDefault(),this.open(e))}onPointerdown(e){this._parent.setPointerCapture(e.pointerId),this._parent.addEventListener("pointerup",this.onPointerup),this.ondown&&e.button===this.button&&this.open(e)}onPointerup(e){this._parent.removeEventListener("pointerup",this.onPointerup),this.ondown||e.button!==this.button||this.open(e)}open(e){IoMenuLayer.singleton.collapseAllGroups(),e.pointerId&&IoMenuLayer.singleton.setPointerCapture(e.pointerId),IoMenuLayer.singleton._x=e.clientX,IoMenuLayer.singleton._y=e.clientY,this.expanded=!0}}IoMenu.Register();const selection=window.getSelection(),range=document.createRange();class IoNumber extends IoElement{static get style(){return html`<style>:host {overflow: hidden;text-overflow: ellipsis;white-space: nowrap;border: var(--io-theme-field-border);border-radius: var(--io-theme-border-radius);padding: var(--io-theme-padding);color: var(--io-theme-field-color);background: var(--io-theme-field-bg);}:host:focus {overflow: hidden;text-overflow: clip;outline: none;border: var(--io-theme-focus-border);background: var(--io-theme-focus-bg);}</style>`}static get properties(){return{value:Number,conversion:1,step:.001,min:-1/0,max:1/0,strict:!0,tabindex:0,contenteditable:!0}}static get listeners(){return{focus:"_onFocus"}}constructor(e){super(e),this.setAttribute("spellcheck","false")}_onFocus(){this.addEventListener("blur",this._onBlur),this.addEventListener("keydown",this._onKeydown),this._select()}_onBlur(){this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown),this.setFromText(this.innerText),this.scrollTop=0,this.scrollLeft=0}_onKeydown(e){13==e.which&&(e.preventDefault(),this.setFromText(this.innerText))}_select(){range.selectNodeContents(this),selection.removeAllRanges(),selection.addRange(range)}setFromText(e){let t=Math.round(Number(e)/this.step)*this.step/this.conversion;this.strict&&(t=Math.min(this.max,Math.max(this.min,t))),isNaN(t)||this.set("value",t)}changed(){let e=this.value;"number"!=typeof e||isNaN(e)?this.innerText="NaN":(e=(e*=this.conversion).toFixed(-Math.round(Math.log(this.step)/Math.LN10)),this.innerText=String(e))}}IoNumber.Register();class IoObject extends IoCollapsable{static get properties(){return{value:Object,props:Array,config:null,labeled:!0}}changed(){const e=this.label||this.value.constructor.name;this.template([["io-boolean",{true:e,false:e,value:this.bind("expanded")}],this.expanded?[["io-properties",{className:"io-collapsable-content",value:this.value,props:this.props.length?this.props:Object.keys(this.value),config:this.config,labeled:this.labeled}]]:null])}}IoObject.Register();class IoOption extends IoButton{static get style(){return html`<style>:host:not([hamburger])::after {width: 0.65em;margin-left: 0.25em;content: '▾';}</style>`}static get properties(){return{options:Array,hamburger:{type:Boolean,reflect:!0}}}static get listeners(){return{"io-button-clicked":"onClicked"}}onClicked(){this.$.menu.expanded=!0;let e=this.$.menu.$.group.querySelector("io-menu-item");e&&e.focus()}onMenu(e){this.$.menu.expanded=!1,this.set("value",e.detail.value),this.action&&this.action(this.value)}changed(){let e=this.value;if(e instanceof Object&&(e=e.__proto__.constructor.name),this.options)for(let t=0;t<this.options.length;t++)if(this.options[t].value===this.value){e=this.options[t].label||e;break}this.template([["span",this.hamburger?"☰":String(e)],["io-menu",{id:"menu",options:this.options,position:"bottom",button:0,ondown:!1,"on-io-menu-item-clicked":this.onMenu}]])}}IoOption.Register();class IoTabs extends IoElement{static get style(){return html`<style>:host {display: flex;flex-direction: row;flex-wrap: nowrap;font-style: italic;overflow: hidden;}:host > * {flex: 0 0 auto;display: none;}:host:not([vertical]) > * {margin-right: var(--io-theme-spacing);}:host[vertical] > * {margin-bottom: var(--io-theme-spacing);}:host[vertical] > io-option {padding: calc(var(--io-theme-padding) * 9) var(--io-theme-padding);}:host[vertical] {flex-direction: column;}:host[vertical][collapsed] > io-option {display: inherit;}:host[vertical]:not([collapsed]) > :nth-child(n+3) {display: inherit;}:host:not([vertical])[overflow] > :nth-child(-n+2) {display: inherit;}:host:not([vertical]):not([overflow]) > :nth-child(n+3) {display: inherit;}:host:not([vertical])[overflow] > :nth-child(n+3) {display: inherit;visibility: hidden;}:host:not([vertical]) > * {border-bottom-left-radius: 0;border-bottom-right-radius: 0;background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.125), transparent 0.75em);}:host:not([vertical]) > *.io-selected {border-bottom-color: var(--io-theme-content-bg);background-image: none;}:host[vertical] > * {border-top-right-radius: 0;border-bottom-right-radius: 0;background-image: linear-gradient(270deg, rgba(0, 0, 0, 0.125), transparent 0.75em);}:host[vertical] > *.io-selected {border-right-color: var(--io-theme-content-bg);background-image: none;}:host > io-option {font-style: normal;}:host > io-button {letter-spacing: 0.145em;font-weight: 500;}:host > io-button:not(.io-selected) {color: rgba(0, 0, 0, 0.5);}:host > io-button.io-selected {background: var(--io-theme-content-bg);font-weight: 600;letter-spacing: 0.11em;}</style>`}static get properties(){return{options:Array,selected:null,vertical:{type:Boolean,reflect:!0},overflow:{type:Boolean,reflect:!0},collapsed:{type:Boolean,reflect:!0}}}select(e){this.selected=e}resized(){const e=this.getBoundingClientRect(),t=this.children[this.children.length-1].getBoundingClientRect();this.overflow=!this.vertical&&this.collapsed||e.right<t.right}changed(){const e=[],t=["io-option",{hamburger:!0,value:this.bind("selected"),options:this.options}];for(let t=0;t<this.options.length;t++)e.push(["io-button",{label:this.options[t].label,value:this.options[t].value,action:this.select,className:this.selected===this.options[t].value?"io-selected":""}]);this.template([t,e[this.selected]||["span"],...e])}}IoTabs.Register();class IoSelector extends IoElement{static get style(){return html`<style>:host {display: flex;flex-direction: column;align-items: stretch;position: relative;overflow: auto;}:host[vertical] {flex-direction: row;}:host > io-tabs {z-index: 2;flex: 0 0 auto;}:host:not([vertical]) > io-tabs {margin: 0 var(--io-theme-spacing);margin-bottom: calc(-1.1 * var(--io-theme-border-width));}:host[vertical] > io-tabs {flex: 0 0 auto;margin: var(--io-theme-spacing) 0;margin-right: calc(-1.1 * var(--io-theme-border-width));}:host[vertical] > io-tabs > io-button,:host[vertical] > io-tabs > io-button.io-selected {align-self: flex-end;color: var(--io-theme-link-color);border: none;background: none;background-image: none !important;}:host[vertical] > io-tabs > io-button:hover {text-decoration: underline;}:host > io-element-cache {flex: 1 1 auto;padding: var(--io-theme-padding);border: var(--io-theme-content-border);border-radius: var(--io-theme-border-radius);background: var(--io-theme-content-bg);overflow: auto;}</style>`}static get properties(){return{elements:Array,selected:Number,precache:!1,cache:!0,collapseWidth:500,vertical:{type:Boolean,reflect:!0},collapsed:{type:Boolean,reflect:!0},role:{type:String,reflect:!1}}}resized(){const e=this.getBoundingClientRect();this.collapsed=this.vertical&&e.width<this.collapseWidth}changed(){const e=[];for(let t=0;t<this.elements.length;t++){const i=this.elements[t][1]||{},o=i.label||i.title||i.name||this.elements[t][0]+"["+t+"]";e.push({value:t,label:o})}this.template([["io-tabs",{selected:this.bind("selected"),vertical:this.vertical,collapsed:this.collapsed,options:e,role:"navigation"}],["io-element-cache",{elements:this.elements,selected:this.selected,cache:this.cache,precache:this.precache,role:this.role}]])}}IoSelector.Register();class IoSlider extends IoElement{static get style(){return html`<style>:host {display: flex;flex-direction: row;min-width: 12em;}:host > io-number {flex: 0 0 3.75em;}:host > io-slider-knob {flex: 1 1 auto;margin-left: var(--io-theme-spacing);border-radius: 2px;}</style>`}static get properties(){return{value:0,step:.001,min:0,max:1,strict:!0}}_onValueSet(e){this.dispatchEvent("value-set",e.detail,!1),this.value=e.detail.value}changed(){this.template([["io-number",{value:this.value,step:this.step,min:this.min,max:this.max,strict:this.strict,id:"number","on-value-set":this._onValueSet}],["io-slider-knob",{value:this.value,step:this.step,minValue:this.min,maxValue:this.max,id:"slider","on-value-set":this._onValueSet}]])}}IoSlider.Register();class IoSliderKnob extends IoCanvas{static get style(){return html`<style>:host {display: flex;cursor: ew-resize;touch-action: none;}:host > canvas {pointer-events: none;touch-action: none;}</style>`}static get properties(){return{value:0,step:.01,minValue:0,maxValue:1e3,startColor:[.3,.9,1,1],endColor:[.9,1,.5,1],lineColor:[.3,.3,.3,1],bg:[.5,.5,.5,1],snapWidth:2,slotWidth:2,handleWidth:4}}static get listeners(){return{pointerdown:"onPointerdown",pointermove:"onPointermove",dragstart:"preventDefault"}}onPointerdown(e){this.setPointerCapture(e.pointerId)}onPointermove(e){if(this.setPointerCapture(e.pointerId),0!==e.buttons){e.preventDefault();const t=this.getBoundingClientRect(),i=(e.clientX-t.x)/t.width,o=Math.max(0,Math.min(1,i));let n=this.minValue+(this.maxValue-this.minValue)*o;n=Math.round(n/this.step)*this.step,n=Math.min(this.maxValue,Math.max(this.minValue,n)),this.set("value",n)}}static get frag(){return"\n    varying vec2 vUv;\n    void main(void) {\n\n      vec4 finalColor = vec4(0.0, 0.0, 0.0, 0.0);\n\n      float _range = maxValue - minValue;\n      float _progress = (value - minValue) / _range;\n      float _value = mix(minValue, maxValue, vUv.x);\n      float _stepRange = size.x / (_range / step);\n\n      if (_stepRange > snapWidth * 4.0) {\n        float pxValue = _value * size.x / _range;\n        float pxStep = step * size.x / _range;\n        float snap0 = mod(pxValue, pxStep);\n        float snap1 = pxStep - mod(pxValue, pxStep);\n        float snap = min(snap0, snap1) * 2.0;\n        snap -= snapWidth;\n        snap = 1.0 - clamp(snap, 0.0, 1.0);\n        finalColor = mix(finalColor, lineColor, snap);\n      }\n\n      float slot = (abs(0.5 - vUv.y) * 2.0) * size.y;\n      slot = (1.0 - slot) + slotWidth;\n      slot = clamp(slot, 0.0, 1.0);\n      vec4 slotColor = mix(startColor, endColor, vUv.x);\n\n      float progress = (vUv.x - _progress) * size.x;\n      progress = clamp(progress, 0.0, 1.0);\n      slotColor = mix(slotColor, lineColor, progress);\n\n      float handle = abs(vUv.x - _progress) * size.x;\n      handle = (1.0 - handle) + handleWidth;\n      handle = clamp(handle, 0.0, 1.0);\n\n      finalColor = mix(finalColor, slotColor, slot);\n      finalColor = mix(finalColor, mix(startColor, endColor, _progress), handle);\n\n      gl_FragColor = finalColor;\n    }"}}IoSliderKnob.Register();const selection$1=window.getSelection(),range$1=document.createRange();class IoString extends IoElement{static get style(){return html`<style>:host {overflow: hidden;text-overflow: ellipsis;white-space: nowrap;border: var(--io-theme-field-border);border-radius: var(--io-theme-border-radius);padding: var(--io-theme-padding);color: var(--io-theme-field-color);background: var(--io-theme-field-bg);}:host:focus {overflow: hidden;text-overflow: clip;outline: none;border: var(--io-theme-focus-border);background: var(--io-theme-focus-bg);}</style>`}static get properties(){return{value:String,tabindex:0,contenteditable:!0}}static get listeners(){return{focus:"_onFocus"}}_onFocus(){this.addEventListener("blur",this._onBlur),this.addEventListener("keydown",this._onKeydown),this._select()}_onBlur(){this.set("value",this.innerText),this.scrollTop=0,this.scrollLeft=0,this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown)}_onKeydown(e){13==e.which&&(e.preventDefault(),this.set("value",this.innerText))}_select(){range$1.selectNodeContents(this),selection$1.removeAllRanges(),selection$1.addRange(range$1)}valueChanged(){this.innerText=String(this.value).replace(new RegExp(" ","g")," ")}}IoString.Register();class IoTheme extends IoElement{static get style(){return html`<style>body {--bg: #eee;--radius: 5px 5px 5px 5px;--spacing: 3px;--padding: 3px;--border-radius: 2px;--border-width: 1px;--border: var(--border-width) solid rgba(128, 128, 128, 0.25);--color: #000;--number-color: rgb(28, 0, 207);--string-color: rgb(196, 26, 22);--boolean-color: rgb(170, 13, 145);--link-color: #06a;--focus-border: 1px solid #09d;--focus-bg: #def;--active-bg: #ef8;--hover-bg: #fff;--frame-border: 1px solid #aaa;--frame-bg: #ccc;--content-border: 1px solid #aaa;--content-bg: #eee;--button-border: 1px solid #999;--button-bg: #bbb;--field-border: 1px solid #ccc;--field-color: #333;--field-bg: white;--menu-border: 1px solid #999;--menu-bg: #bbb;--menu-shadow: 2px 3px 5px rgba(0,0,0,0.2);}@media (-webkit-min-device-pixel-ratio: 2) {body {--radius: 7px 7px 7px 7px;--spacing: 4px;--padding: 4px;--border-radius: 4px;}}</style>`}}IoTheme.Register();export{IoNodeMixin,IoNode,IoElement,html,initStyle,Binding,NodeBindings,IoServiceLoader,IoStorage,nodes as storageNodes,IoArray,IoBoolean,IoButton,IoCanvas,IoCollapsable,IoElementCache,IoInspector,IoInspectorBreadcrumbs,IoInspectorLink,IoMdView,IoMenuItem,IoMenuLayer,IoMenuOptions,IoMenu,IoNumber,IoObject,IoOption,IoProperties,IoTabs,IoSelector,IoSlider,IoString,IoTheme};